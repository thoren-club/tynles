# Запуск бота через PM2

## Важно: Сначала скомпилируйте проект!

Перед запуском убедитесь, что проект скомпилирован:

```bash
npm run build
```

Должна появиться папка `dist/` с скомпилированными файлами.

## Запуск бота

```bash
pm2 start dist/index.js --name task-bot
```

## Проверка статуса

```bash
pm2 status
```

Должны увидеть процесс `task-bot` со статусом `online`.

## Просмотр логов

```bash
pm2 logs task-bot
```

Или в реальном времени:
```bash
pm2 logs task-bot --lines 50
```

## Если есть ошибки

Проверьте:
1. Файл `.env` настроен правильно
2. База данных работает: `systemctl status postgresql`
3. Проект скомпилирован: `ls -la dist/`
4. Все зависимости установлены: `npm install`

## Полная последовательность перед первым запуском

```bash
# 1. Убедиться что в папке проекта
cd /root/tynles  # или ваш путь

# 2. Проверить .env файл
cat .env

# 3. Скомпилировать проект
npm run build

# 4. Запустить через PM2
pm2 start dist/index.js --name task-bot

# 5. Проверить статус
pm2 status

# 6. Посмотреть логи
pm2 logs task-bot
```

## Автозапуск после перезагрузки

После успешного запуска:

```bash
pm2 save
pm2 startup
# Выполните команду, которую покажет PM2
```
